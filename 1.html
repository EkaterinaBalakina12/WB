 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="1.css">
    <!-- <script src="script.js"></script> -->
</head>
<body>
    <div id="d" class="board"></div>

    <p><input class="button" type="button" value="Refresh" onClick="window.location.reload()"></p>

    <script> 
        let board = document.querySelector('.board'); //возвращает первый элемент, соответствующий данному CSS-селектору
        let block;
        
        for(let i=0; i<20; i++){        
            for(let j=0; j<20; j++){  
                
                if (Math.random() > 0.05){
                    block = document.createElement('div');
                    block.className='block white';
                }
                else{
                    block = document.createElement('div');
                    block.className='block black';
                }              
                board.appendChild(block); //вывод div
            }
        }

        let d = document.querySelectorAll('#d div'); //возвращает все div внутри div с id="d"

        for (var i = 0; i < d.length; i++) {
            d[i].addEventListener('click', addSign) //обработчик событий к родителю  
        }

        function addSign() {
            if (this.className == 'block black'){
                this.className = 'block white';
            }
            else {
                this.className = 'block black'
            }   

            for(let i=0; i<d.length; i++){        
                if (d[i] == this){
                    if (d[i+1].className == 'block black'){
                        d[i+1].className = 'block white';
                    } else{
                        d[i+1].className = 'block black';
                    }

                    if (d[i-1].className == 'block black'){
                        d[i-1].className = 'block white';
                    } else{
                        d[i-1].className = 'block black';
                    }
                    
                    if (d[i+20].className == 'block black'){
                        d[i+20].className = 'block white';
                    } else{
                        d[i+20].className = 'block black';
                    }

                    if (d[i-20].className == 'block black'){
                        d[i-20].className = 'block white';
                    } else{
                        d[i-20].className = 'block black';
                    }               
                }
            }
        }
    </script>
</body>
</html>